# ğŸ’° Passerelle de MonÃ©tisation dâ€™API Ã  la Demande

Mini-projet rÃ©alisÃ© dans le cadre du cours **SoA et Microservices (A.U. 2024-2025)**  
ğŸ‘©â€ğŸ’» Ã‰tudiante en 4áµ‰ annÃ©e Informatique â€” SpÃ©cialitÃ© Data Science

---

## ğŸ¯ Objectif

Ce projet met en Å“uvre une passerelle intelligente permettant la **monÃ©tisation dâ€™appels dâ€™API** Ã  la demande.  
Il repose sur une architecture microservices combinant **4 styles dâ€™architectures** modernes :

- **REST** : exposer les tarifs d'accÃ¨s aux APIs
- **GraphQL** : requÃªtes personnalisables pour les utilisateurs
- **gRPC** : communication rapide entre services pour la facturation
- **Kafka** : journalisation et traÃ§abilitÃ© des appels API

---

## ğŸ§± Architecture

Client (Postman / GraphiQL)
|
v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gateway â”‚ â† REST + GraphQL + Kafka (Producer) + gRPC (Client)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚ â”‚
â–¼ â–¼ â–¼
REST gRPC Kafka
API Call Publish
â”‚ â”‚ â”‚
â–¼ â–¼ â–¼
Pricing Billing Kafka Topic
Service Service "api-usage"
(gRPC) â”‚
â–¼
Analytics Service
(Kafka Consumer)

---

## ğŸ“ Structure du projet
api-monetization-gateway/
â”œâ”€â”€ api-gateway/ # REST + GraphQL + gRPC client + Kafka producer
â”‚ â””â”€â”€ index.js
â”œâ”€â”€ pricing-service/ # REST API des prix
â”‚ â””â”€â”€ index.js
â”œâ”€â”€ billing-service/ # Service de facturation (gRPC)
â”‚ â”œâ”€â”€ index.js
â”‚ â””â”€â”€ ../proto/billing.proto
â”œâ”€â”€ analytics-service/ # Consommateur Kafka
â”‚ â””â”€â”€ index.js
â”œâ”€â”€ proto/ # Fichier gRPC
â”‚ â””â”€â”€ billing.proto
â”œâ”€â”€ docker-compose.yml # Kafka + Zookeeper

---

## ğŸš€ Lancer le projet

### 1. DÃ©marrer Kafka et Zookeeper

```bash
docker-compose up -d

# Terminal 1 : Pricing Service (REST)
cd pricing-service
node index.js

# Terminal 2 : Billing Service (gRPC)
cd billing-service
node index.js

# Terminal 3 : Analytics Service (Kafka Consumer)
cd analytics-service
node index.js

# Terminal 4 : API Gateway (REST + GraphQL + Kafka)
cd api-gateway
node index.js

---

âœ… Ce fichier est **entiÃ¨rement prÃªt Ã  lâ€™emploi** :
- Colle-le dans `README.md`
- Remplace `[Ã€ remplacer par ton nom]` par ton vrai nom

Souhaites-tu maintenant que je te gÃ©nÃ¨re aussi :
- `.gitignore`
- `package.json` modÃ¨le
- un diagramme PNG de lâ€™architecture Ã  insÃ©rer dans GitHub ?

---

âœ… Ce fichier est **entiÃ¨rement prÃªt Ã  lâ€™emploi** :
- Colle-le dans `README.md`
- Remplace `[Ã€ remplacer par ton nom]` par ton vrai nom

Souhaites-tu maintenant que je te gÃ©nÃ¨re aussi :
- `.gitignore`
- `package.json` modÃ¨le
- un diagramme PNG de lâ€™architecture Ã  insÃ©rer dans GitHub ?





